<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Prueba con Fetch</title>
    <link href="estilo.css" rel="stylesheet" />

    <!-- Pequeña hoja de estilos para dar formato-->
    <script>
      const url =
        "https://api.openweathermap.org/data/2.5/weather?q=Montevideo,uy&APPID=757b0a42a193f4d1bfa4849ccdd251e0";
      //dirección de la API. Puede ser la ruta a un archivo json. CREA LA TUYA.

      fetch(url) //Realizamos el fetch que devolverá una promesa
        .then((respuesta) => respuesta.json()) //Obtenemos una promesa que trataremos como json
        .then((datos) => {
          //obtenemos una nueva promesa, pero los datos ya están como json.
          document.getElementById("ciudad").innerHTML =
            datos.name + ", " + datos.sys.country; //escribo los datos del país
          document.getElementById("temp").innerHTML =
            (datos.main.temp - 273.15).toFixed(1) + "º"; //escribo la temperatura. la convierto de kelvin a celsius
          document.getElementById("imagen").src =
            "http://openweathermap.org/img/wn/" +
            datos.weather[0].icon +
            ".png"; //imagen
          document.getElementById("humedad").innerHTML =
            "Humedad: " + datos.main.humidity + "%";
          document.getElementById("termica").innerHTML =
            "Sensación térmica: " +
            (datos.main.feels_like - 273.15).toFixed(1) +
            "º";
          document.getElementById("velocidad").innerHTML =
            "Velocidad del viento: " + datos.wind.speed + " m/s";
          document.getElementById;
        })
        .catch((error) => alert("Hubo un error: " + error));
    </script>
  </head>

  <body>
    <h1>Pronostico del clima</h1>
    
    <div id="cuadro">
      <span id="ciudad"></span><br /><br />
      <span id="temp"> </span>
      <img id="imagen" src="" /><br /><br />
      <div id="adicional">
        <span id="humedad"></span>
        <span id="termica"></span><br />
        <span id="velocidad"></span>
      </div>
    </div>
    <div id="info">
      <p>
        Montevideo es la capital y ciudad más poblada de la República Oriental
        del Uruguay. Asimismo, es sede del Mercosur y de la ALADI. El censo de
        2011 registró 1 319 108 habitantes en el departamento y 1 947 604 en el
        área metropolitana.​ Se ubica en la zona meridional del país​ y es la
        capital más austral de América. Limita al oeste con el departamento de
        San José, y al norte y este con el de Canelones. Al sur tiene costas
        sobre el Río de la Plata, donde se ubican la bahía de Montevideo y el
        principal puerto de la región. Está dividida en 8 municipios.
      </p>
    </div>
    
  </body>
</html>
